<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data Wrangling</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Data Wrangling
]
.subtitle[
## Reading Files
]

---




class: center, middle

# DATA FILES - Excel

---

## Data Files in Excel

- Formats .xls and .csv - what's the difference?

- File extensions .xls and .xlsx are proprietary Excel formats, binary files

- csv is an extension for Comma Separated Value files. They are text files - directly readable.

- Motivating Example: Gas prices in the Midwest since 1994

???

CSV - comma-separated values (contains plain text entries and commas)
XLS - specific spreadsheet file for Microsoft Excel. Can't be opened with a text editor

---
class: center, middle

# MOTIVATING EXAMPLE 
## Gas prices in the Midwest since 1994

---

## Gas Prices in the Midwest

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Year-Month &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 1 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 2 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...5 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...7 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 4 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...9 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 5 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...11 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1994-Nov &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 28-Nov &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1994-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.086 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.057 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 19-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.039 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 26-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.027 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1995-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.025 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.046 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 16-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.031 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.054 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 30-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.055 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1995-Feb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6-Feb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.045 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13-Feb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.04 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20-Feb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.031 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 27-Feb &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.052 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1995-Mar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6-Mar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.053 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13-Mar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.042 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20-Mar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.048 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 27-Mar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.065 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---
## What's the difference `read_csv` vs. `read_*` ??

`read_csv` is just one way to read a file using the `readr` package: 

- `read_delim`: the most generic function. Use the `delim` argument to read a file with any type of delimiter 
- `read_tsv`: read tab separated files 
- `read_lines`: read a file into a vector that has one element per line of the file
- `read_file`: read a file into a single character element
- `read_table`: read a file separated by space

???

Start by having them load tidyverse. (Includes all of the packages we'll be using today) 

---

# Project Management

- Important to understand your file structure and where you save everything
- Working directory 
 + "Default location where R will look for files you want to load and where it will put any files you save" [source](https://intro2r.com/work-d.html)


```r
#Returns the file path of the current working directory
getwd()

#Set Working Directory
setwd()
```

+ Easiest way to set Working Directory: 
  - Session -&gt; Set Working Directory -&gt; Choose Directory
  - Point and Click Method

---
class: inverse
## Your Turn 

Have a look at the parameters of `read_csv` to solve the following problems:

1. Read the first two lines of the file into an object called `midwest_names`

2. Read everything EXCEPT the first two lines into an object called `midwest_data`

Hint: Visit http://unl-statistics.github.io/R-workshops/03-r-format/data/midwest.csv to download the data into your current working directory (`getwd()`) and look at it in Excel to help figure out what the issue is. 

---

## Your Turn Solutions





```r
midwest_names &lt;- read_csv(
"midwest.csv", 
  n_max= 2, col_names = FALSE)


midwest_data &lt;- read_csv(
"midwest.csv", 
  skip = 2, col_names = FALSE)
```

---
## Quick Lesson in Data Cleaning


```r
library(lubridate) # works with dates
library(tidyverse)
values &lt;- c(midwest_data$X3, midwest_data$X5, midwest_data$X7, 
            midwest_data$X9, midwest_data$X11)
dates &lt;- c(paste(midwest_data$X1, midwest_data$X2, sep = "-"), 
           paste(midwest_data$X1, midwest_data$X4, sep = "-"),
           paste(midwest_data$X1, midwest_data$X6, sep = "-"),
           paste(midwest_data$X1, midwest_data$X8, sep = "-"),
           paste(midwest_data$X1, midwest_data$X10, sep = "-"))

dates &lt;- dates[!is.na(values)] #removing NAs
values &lt;- values[!is.na(values)] #removing Nas

dates &lt;- ymd(dates)

midwest_gas &lt;- data_frame(date = dates, price = values)
midwest_gas &lt;- arrange(midwest_gas, dates)
```

???

explain - paste function
values - vector of the different columns
dates - vector of different dates (combining year/month with month/day)

ymd function - transforms dates stored in a character to date with year, month, day components


---

## Now we can make a plot!


```r
library(ggplot2)

ggplot(midwest_gas, aes(x = date, y = price)) + geom_line()
```

&lt;img src="2-Files_files/figure-html/unnamed-chunk-6-1.png" style="display: block; margin: auto;" /&gt;



---

## Reading Excel Data

Download the midwest.xls file to your current working directory (`getwd()`)


```r
library(readxl)
midwest2 &lt;- read_excel("midwest.xls") 
head(midwest2)
```

Something isn't quite right here...
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Year-Month &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 1 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 2 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...5 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...7 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 4 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...9 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Week 5 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; ...11 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; End Date &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Value &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1994-Nov &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 39779 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.1220000000000001 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1994-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 39786 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.0860000000000001 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 39793 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.0569999999999999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 39800 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.0389999999999999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 39807 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1.0269999999999999 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Reading Excel Data: Attempt #2

The 2nd row of the excel file also contains variable names.

Let's skip the first this time. We can then rename the first column.


```r
*midwest2 &lt;- read_excel("midwest.xls", skip = 1)
names(midwest2)[1] &lt;- "Year-Month"
head(midwest2)
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Year-Month &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; End Date...2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Value...3 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; End Date...4 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Value...5 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; End Date...6 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Value...7 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; End Date...8 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Value...9 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; End Date...10 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Value...11 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1994-Nov &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-11-28 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1994-Dec &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-12-05 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.086 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-12-12 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.057 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-12-19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.039 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-12-26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.027 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1995-Jan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-01-02 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.025 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-01-09 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.046 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-01-16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.031 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-01-23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.054 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2012-01-30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.055 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

Better, but not yet perfect...


???

How can you fix this? Brute force way by renaming all columns?
Take this into consideration when entering in your data into spreadsheets (no merged columns names with subheadings)

---

## `haven` Package

- Other file formats can be read using the functions from package `haven`

- SPSS: `read_spss`

- SAS: `read_xpt`

- Stata: `read_dta`

.center[
&lt;img src="images/haven.png" style="width:280px;"/&gt;

]


---
## Useful Packages for Other Data Files

- `foreign` package reads from Minitab, Systat, etc. files.

- `rgdal` package reads shapefiles (for maps)

- `sf` package reads arcgis files, etc. [sf package](https://r-spatial.github.io/sf/)

.center[
&lt;img src="images/sf package.jpeg" style="width:320px;"/&gt;

R knowledge Spatial, by [Allison Horst](https://www.allisonhorst.com/)
]

---
class: inverse
## Your Turn (~2 minutes) 

The NHANES (National Health and Nutrition Survey) publishes data in the SAS xport format:

https://wwwn.cdc.gov/Nchs/Nhanes/continuousnhanes/default.aspx?BeginYear=2013

1. Scroll to the bottom, choose one of the datasets (Demographics, Examination, etc.). Download the Data file (XPT)

2. Use `read_xpt()` to load the file into R

3. Briefly examine the dataset you've imported (use `head` or `tail`, etc)

---

## SOLUTION


```r
library(haven) 
sas.data &lt;- read_xpt("../data/DEMO_G.XPT")
sas.data %&gt;% head(2)
```

```
## # A tibble: 2 × 48
##    SEQN SDDSRVYR RIDSTATR RIAGENDR RIDAGEYR RIDAG…¹ RIDRE…² RIDRE…³ RIDEX…⁴ RIDEX…⁵ RIDEX…⁶ DMQMI…⁷ DMQADFC
##   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 62161        7        2        1       22      NA       3       3       2      NA      NA       2      NA
## 2 62162        7        2        2        3      NA       1       1       1       3      41      NA      NA
## # … with 35 more variables: DMDBORN4 &lt;dbl&gt;, DMDCITZN &lt;dbl&gt;, DMDYRSUS &lt;dbl&gt;, DMDEDUC3 &lt;dbl&gt;,
## #   DMDEDUC2 &lt;dbl&gt;, DMDMARTL &lt;dbl&gt;, RIDEXPRG &lt;dbl&gt;, SIALANG &lt;dbl&gt;, SIAPROXY &lt;dbl&gt;, SIAINTRP &lt;dbl&gt;,
## #   FIALANG &lt;dbl&gt;, FIAPROXY &lt;dbl&gt;, FIAINTRP &lt;dbl&gt;, MIALANG &lt;dbl&gt;, MIAPROXY &lt;dbl&gt;, MIAINTRP &lt;dbl&gt;,
## #   AIALANGA &lt;dbl&gt;, WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, SDMVPSU &lt;dbl&gt;, SDMVSTRA &lt;dbl&gt;, INDHHIN2 &lt;dbl&gt;,
## #   INDFMIN2 &lt;dbl&gt;, INDFMPIR &lt;dbl&gt;, DMDHHSIZ &lt;dbl&gt;, DMDFMSIZ &lt;dbl&gt;, DMDHHSZA &lt;dbl&gt;, DMDHHSZB &lt;dbl&gt;,
## #   DMDHHSZE &lt;dbl&gt;, DMDHRGND &lt;dbl&gt;, DMDHRAGE &lt;dbl&gt;, DMDHRBR4 &lt;dbl&gt;, DMDHREDU &lt;dbl&gt;, DMDHRMAR &lt;dbl&gt;,
## #   DMDHSEDU &lt;dbl&gt;, and abbreviated variable names ¹​RIDAGEMN, ²​RIDRETH1, ³​RIDRETH3, ⁴​RIDEXMON, …
```



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
